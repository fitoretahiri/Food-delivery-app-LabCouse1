{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"../api/axios\";\nimport useAuth from './useAuth';\n\nconst useRefreshToken = () => {\n  _s();\n\n  const {\n    setAuth\n  } = useAuth();\n\n  const refresh = async () => {\n    const response = await axios.post('/api/authmanagement/refreshtoken', {}, {\n      withCredentials: true\n    });\n    setAuth(prev => {\n      console.log(prev);\n      return { ...prev,\n        roles: response.data.roles,\n        accessToken: response.data.token\n      };\n    });\n    return response.data.token;\n  };\n\n  return refresh;\n};\n\n_s(useRefreshToken, \"ULyvyk72gQF34wX4GH57egc/0Yo=\", false, function () {\n  return [useAuth];\n});\n\nexport default useRefreshToken;","map":{"version":3,"names":["axios","useAuth","useRefreshToken","setAuth","refresh","response","post","withCredentials","prev","console","log","roles","data","accessToken","token"],"sources":["C:/Users/fitor/OneDrive/Documents/GitHub/Food-Delivery-App/Food-delivery-app-LabCouse1/front-end-code/src/hooks/useRefreshToken.js"],"sourcesContent":["import axios from \"../api/axios\";\r\nimport useAuth from './useAuth';\r\n\r\nconst useRefreshToken = () => {\r\n    const { setAuth } = useAuth();\r\n\r\n    const refresh = async () => {\r\n        const response = await axios.post('/api/authmanagement/refreshtoken', {},{\r\n            withCredentials: true\r\n        });\r\n        setAuth(prev => {\r\n            console.log(prev)\r\n            return { \r\n                ...prev, \r\n                roles: response.data.roles,\r\n                accessToken: response.data.token }\r\n        });\r\n        return response.data.token;\r\n    }\r\n    return refresh;\r\n};\r\n\r\nexport default useRefreshToken;"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,cAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAAEC;EAAF,IAAcF,OAAO,EAA3B;;EAEA,MAAMG,OAAO,GAAG,YAAY;IACxB,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAN,CAAW,kCAAX,EAA+C,EAA/C,EAAkD;MACrEC,eAAe,EAAE;IADoD,CAAlD,CAAvB;IAGAJ,OAAO,CAACK,IAAI,IAAI;MACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACA,OAAO,EACH,GAAGA,IADA;QAEHG,KAAK,EAAEN,QAAQ,CAACO,IAAT,CAAcD,KAFlB;QAGHE,WAAW,EAAER,QAAQ,CAACO,IAAT,CAAcE;MAHxB,CAAP;IAIH,CANM,CAAP;IAOA,OAAOT,QAAQ,CAACO,IAAT,CAAcE,KAArB;EACH,CAZD;;EAaA,OAAOV,OAAP;AACH,CAjBD;;GAAMF,e;UACkBD,O;;;AAkBxB,eAAeC,eAAf"},"metadata":{},"sourceType":"module"}