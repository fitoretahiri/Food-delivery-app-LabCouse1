{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arber\\\\Documents\\\\GitHub\\\\Food-delivery-app-LabCouse1\\\\Food-delivery-app-LabCouse1\\\\front-end-code\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './App.css';\nimport { useEffect, useState } from \"react\";\nimport { Restoranti } from './Restoranti';\nimport { Qyteti } from './Qyteti';\nimport { Menu } from './Menu';\nimport { Roli } from './Roli';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport LoginForm from './LoginForm';\nimport { TransportuesiRegister } from './TransportuesiRegister';\nimport { Restaurant_Qyteti } from './Restaurant_Qyteti';\nimport { Perdoruesi } from './Perdoruesi';\nimport RestorantiRegister from './RestorantiRegister';\nimport DashboardRestoranti from './DashboardRestoranti';\nimport AppNavbar from './AppNavbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [name, setName] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const [role, setRole] = useState('');\n\n  const submit = async event => {\n    event.preventDefault();\n    await fetch(process.env.REACT_APP_API + 'authmanagement/login', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => res.json()).then(result => {\n      fetch(process.env.REACT_APP_API + 'setup/GetUserRoles?email=' + email, {\n        method: 'GET',\n        headers: {\n          Accept: '*/*'\n        },\n        credentials: 'include'\n      }).then(response => response.text()).then(data => {\n        let role = data.slice(2, data.length - 2);\n        setRole(role);\n      });\n      setRedirect(true);\n      props.setSuccess(true);\n    }, error => {\n      alert('Failed');\n    });\n  };\n\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"restorantidashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n\n  useEffect(() => {\n    (async () => {\n      const response = await fetch(process.env.REACT_APP_API + 'authmanagement/user', {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      const content = await response.json();\n      setName(content.userName);\n    })();\n  }, [name]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App container\",\n      children: [/*#__PURE__*/_jsxDEV(AppNavbar, {\n        name: name,\n        setName: setName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/restaurant\",\n          component: Restoranti\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/qyteti\",\n          component: Qyteti\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/menu\",\n          component: Menu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/role\",\n          component: Roli\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/restaurant_qyteti\",\n          component: Restaurant_Qyteti\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: LoginForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"perdoruesi\",\n          component: Perdoruesi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/transportuesiregister\",\n          component: TransportuesiRegister\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/restorantiregister\",\n          component: RestorantiRegister\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/restorantidashboard\",\n          component: () => /*#__PURE__*/_jsxDEV(DashboardRestoranti, {\n            name: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"F0mkZFGbIJRVoKw6Tvg0/BKB0IU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Restoranti","Qyteti","Menu","Roli","BrowserRouter","Router","Route","Switch","LoginForm","TransportuesiRegister","Restaurant_Qyteti","Perdoruesi","RestorantiRegister","DashboardRestoranti","AppNavbar","App","name","setName","success","setSuccess","email","setEmail","password","setPassword","redirect","setRedirect","role","setRole","submit","event","preventDefault","fetch","process","env","REACT_APP_API","method","headers","Accept","credentials","body","JSON","stringify","then","res","json","result","response","text","data","slice","length","props","error","alert","content","userName"],"sources":["C:/Users/Arber/Documents/GitHub/Food-delivery-app-LabCouse1/Food-delivery-app-LabCouse1/front-end-code/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { Restoranti } from './Restoranti';\r\nimport { Qyteti } from './Qyteti';\r\nimport { Menu } from './Menu';\r\nimport { Roli } from './Roli';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport LoginForm from './LoginForm';\r\nimport { TransportuesiRegister } from './TransportuesiRegister';\r\nimport { Restaurant_Qyteti } from './Restaurant_Qyteti';\r\nimport { Perdoruesi } from './Perdoruesi';\r\nimport RestorantiRegister from './RestorantiRegister';\r\nimport DashboardRestoranti from './DashboardRestoranti';\r\nimport AppNavbar from './AppNavbar';\r\n\r\n\r\n\r\nfunction App() {\r\n    const [name, setName] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [redirect, setRedirect] = useState(false)\r\n  const [role, setRole] = useState('')\r\n\r\n  const submit = async (event) => {\r\n    event.preventDefault()\r\n\r\n    await fetch(process.env.REACT_APP_API + 'authmanagement/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          fetch(process.env.REACT_APP_API + 'setup/GetUserRoles?email='+email, {\r\n            method: 'GET',\r\n            headers: {\r\n              Accept: '*/*'\r\n            },\r\n            credentials: 'include',\r\n          }).then(response => response.text())\r\n          .then(data => {\r\n            let role = data.slice(2,data.length-2);\r\n            \r\n            setRole(role);\r\n          });\r\n          setRedirect(true)\r\n          props.setSuccess(true)\r\n        },\r\n        (error) => {\r\n          alert('Failed')\r\n        },\r\n      )\r\n  }\r\n\r\n\r\n  if (redirect) {\r\n    return <Redirect to=\"restorantidashboard\" />\r\n  }\r\n    useEffect(()=>{\r\n        (\r\n            async () => {\r\n                const response = await fetch(process.env.REACT_APP_API+'authmanagement/user',{\r\n                    headers:{\r\n                        'Accept':'application/json',\r\n                        'Content-Type':'application/json'\r\n                    },\r\n                    credentials: 'include'\r\n                });\r\n\r\n                const content = await response.json();\r\n                setName(content.userName);\r\n            }\r\n        )()\r\n    }, [name]);\r\n    \r\n    \r\n    return (\r\n        <Router>\r\n            <div className=\"App container\">\r\n                <AppNavbar name={name} setName={setName}/>\r\n                    <Switch>\r\n                    <Route path=\"/restaurant\" component={Restoranti} />\r\n                    <Route path=\"/qyteti\" component={Qyteti} />\r\n                    <Route path=\"/menu\" component={Menu} />\r\n                    <Route path=\"/role\" component={Roli} />\r\n                    <Route path=\"/restaurant_qyteti\" component={Restaurant_Qyteti} />\r\n                    <Route exact path=\"/\" component={LoginForm} />\r\n                    <Route exact path=\"perdoruesi\" component={Perdoruesi} />\r\n                    <Route path=\"/transportuesiregister\" component={TransportuesiRegister} />\r\n                    <Route path=\"/restorantiregister\" component={RestorantiRegister} />\r\n                    <Route path=\"/restorantidashboard\" component={() => <DashboardRestoranti name={name}/>} />\r\n                    </Switch>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}