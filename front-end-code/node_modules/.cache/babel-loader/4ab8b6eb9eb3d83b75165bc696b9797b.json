{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arber\\\\Documents\\\\GitHub\\\\Food-delivery-app-LabCouse1\\\\Food-delivery-app-LabCouse1\\\\front-end-code\\\\src\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm(props) {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const [userRole, setUserRole] = useState('');\n\n  const submit = async event => {\n    event.preventDefault();\n    await fetch(process.env.REACT_APP_API + 'authmanagement/login', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => res.json()).then(result => {\n      const idResponse = fetch(process.env.REACT_APP_API + 'authmanagement/GetUserRoles?email=' + email, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      }).then(res => {\n        console.log(\"roleresult: \" + res);\n      }).then(result => {\n        console.log('result ' + result.toString());\n      }, error => {\n        alert('failed role');\n      });\n    }, error => {\n      alert('Failed');\n    });\n    setRedirect(true);\n    props.setName(result.username);\n  };\n\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"restorantidashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      autoComplete: \"off\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-90\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-outline mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            className: \"form-control\",\n            name: \"email\",\n            required: true,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            for: \"email\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-outline mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            className: \"form-control\",\n            name: \"password\",\n            required: true,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            for: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-check-input\",\n                type: \"checkbox\",\n                value: \"\",\n                id: \"checkbox\",\n                checked: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-check-label\",\n                children: \" Remember me \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#!\",\n              children: \"Forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          value: \"LOGIN\",\n          className: \"btn btn-primary btn-block mb-4\",\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Not a member? \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#!\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"or sign up with:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-link btn-floating mx-1\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fab fa-facebook-f\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-link btn-floating mx-1\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fab fa-google\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-link btn-floating mx-1\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fab fa-twitter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-link btn-floating mx-1\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fab fa-github\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginForm, \"TmsFk4KHxmoafmzXveCYhQ3+SMI=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","Redirect","LoginForm","props","email","setEmail","password","setPassword","redirect","setRedirect","userRole","setUserRole","submit","event","preventDefault","fetch","process","env","REACT_APP_API","method","headers","credentials","body","JSON","stringify","then","res","json","result","idResponse","console","log","toString","error","alert","setName","username","e","target","value"],"sources":["C:/Users/Arber/Documents/GitHub/Food-delivery-app-LabCouse1/Food-delivery-app-LabCouse1/front-end-code/src/LoginForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nfunction LoginForm(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [redirect, setRedirect] = useState(false); \r\n    const [userRole, setUserRole] = useState('');\r\n\r\n    const submit = async (event) =>{\r\n        event.preventDefault();\r\n\r\n        await fetch(process.env.REACT_APP_API+'authmanagement/login',{\r\n            method:'POST',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            credentials: 'include',\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then((result)=>{\r\n\r\n            const idResponse = fetch(process.env.REACT_APP_API+'authmanagement/GetUserRoles?email='+email,{\r\n                headers:{\r\n                    'Accept':'application/json',\r\n                    'Content-Type':'application/json'\r\n                },\r\n                credentials: 'include'\r\n            }).then(res => {\r\n                console.log(\"roleresult: \"+res);\r\n            }).then(result => {\r\n                console.log('result '+ result.toString())\r\n            },(error)=>{\r\n                alert('failed role')\r\n            })\r\n        },\r\n        (error)=>{\r\n            alert('Failed');\r\n        })\r\n\r\n        setRedirect(true);\r\n        props.setName(result.username);\r\n    }\r\n\r\n    if(redirect){\r\n        return <Redirect to='restorantidashboard' />\r\n    }\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n            <form onSubmit={submit} autoComplete=\"off\">\r\n                <div className=\"w-90\">\r\n                    <h2>Login</h2>\r\n  \r\n                    <div className=\"form-outline mb-8\">\r\n                        <input type=\"email\" id=\"email\" className=\"form-control\" name=\"email\" required onChange={e=>setEmail(e.target.value)}/>\r\n                        <label className=\"form-label\" for=\"email\">Email address</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-outline mb-4\">\r\n                        <input type=\"password\" id=\"password\" className=\"form-control\" name=\"password\" required onChange={e=>setPassword(e.target.value)}/>\r\n                        <label className=\"form-label\" for=\"password\">Password</label>\r\n                    </div>\r\n\r\n                    <div className=\"row mb-4\">\r\n                        <div className=\"col d-flex justify-content-center\">\r\n                            <div className=\"form-check\">\r\n                                <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"checkbox\" checked />\r\n                                <label className=\"form-check-label\"> Remember me </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"col\">\r\n                            <a href=\"#!\">Forgot password?</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" value=\"LOGIN\" className=\"btn btn-primary btn-block mb-4\">Sign in</button>\r\n\r\n\r\n                    <div className=\"text-center\">\r\n                        <p>Not a member? <a href=\"#!\">Register</a></p>\r\n                        <p>or sign up with:</p>\r\n                        <button type=\"button\" className=\"btn btn-link btn-floating mx-1\">\r\n                            <i className=\"fab fa-facebook-f\"></i>\r\n                        </button>\r\n\r\n                        <button type=\"button\" className=\"btn btn-link btn-floating mx-1\">\r\n                            <i className=\"fab fa-google\"></i>\r\n                        </button>\r\n\r\n                        <button type=\"button\" className=\"btn btn-link btn-floating mx-1\">\r\n                            <i className=\"fab fa-twitter\"></i>\r\n                        </button>\r\n\r\n                        <button type=\"button\" className=\"btn btn-link btn-floating mx-1\">\r\n                            <i className=\"fab fa-github\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}