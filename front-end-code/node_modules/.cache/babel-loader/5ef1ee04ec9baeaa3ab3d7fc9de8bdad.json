{"ast":null,"code":"import axios from 'axios';\n/*\r\nconst BASE_URL = 'http://localhost:5000'\r\n\r\nexport default axios.create({\r\n    baseURL: BASE_URL\r\n});\r\n\r\nexport const axiosPrivate = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { 'Content-Type': 'Application/json'},\r\n    withCredentials: true\r\n});\r\n*/\n\naxios.defaults.baseURL = 'http://localhost:5000';\naxios.interceptors.response.use(resp => resp, async error => {\n  if (error.response.status === 401) {\n    const response = await axios.post('/api/authmanagement/refreshtoken', {}, {\n      withCredentials: true\n    });\n\n    if (response.status === 200) {\n      console.log('token from axios file' + response.data);\n      axios.defaults.headers.common['Authorization'] = `Bearer ${response.data['token']}`;\n    }\n  }\n});","map":{"version":3,"names":["axios","defaults","baseURL","interceptors","response","use","resp","error","status","post","withCredentials","console","log","data","headers","common"],"sources":["C:/Users/Arber/Documents/GitHub/Food-delivery-app-LabCouse1/Food-delivery-app-LabCouse1/front-end-code/src/api/axios.js"],"sourcesContent":["import axios from 'axios';\r\n/*\r\nconst BASE_URL = 'http://localhost:5000'\r\n\r\nexport default axios.create({\r\n    baseURL: BASE_URL\r\n});\r\n\r\nexport const axiosPrivate = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { 'Content-Type': 'Application/json'},\r\n    withCredentials: true\r\n});\r\n*/\r\n\r\naxios.defaults.baseURL = 'http://localhost:5000';\r\n\r\naxios.interceptors.response.use(resp => resp, async error => {\r\n    if(error.response.status === 401){\r\n        const response = await axios.post('/api/authmanagement/refreshtoken', {}, {\r\n            withCredentials: true\r\n        })\r\n        \r\n        if(response.status === 200){\r\n            console.log('token from axios file'+response.data)\r\n            axios.defaults.headers.common['Authorization'] = `Bearer ${response.data['token']}`\r\n        }\r\n    }\r\n\r\n})"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AAEAF,KAAK,CAACG,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCC,IAAI,IAAIA,IAAxC,EAA8C,MAAMC,KAAN,IAAe;EACzD,IAAGA,KAAK,CAACH,QAAN,CAAeI,MAAf,KAA0B,GAA7B,EAAiC;IAC7B,MAAMJ,QAAQ,GAAG,MAAMJ,KAAK,CAACS,IAAN,CAAW,kCAAX,EAA+C,EAA/C,EAAmD;MACtEC,eAAe,EAAE;IADqD,CAAnD,CAAvB;;IAIA,IAAGN,QAAQ,CAACI,MAAT,KAAoB,GAAvB,EAA2B;MACvBG,OAAO,CAACC,GAAR,CAAY,0BAAwBR,QAAQ,CAACS,IAA7C;MACAb,KAAK,CAACC,QAAN,CAAea,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAkD,UAASX,QAAQ,CAACS,IAAT,CAAc,OAAd,CAAuB,EAAlF;IACH;EACJ;AAEJ,CAZD"},"metadata":{},"sourceType":"module"}