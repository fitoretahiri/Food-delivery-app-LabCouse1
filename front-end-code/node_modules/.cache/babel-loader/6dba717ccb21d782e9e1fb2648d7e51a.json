{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arber\\\\Documents\\\\GitHub\\\\Food-delivery-app-LabCouse1\\\\Food-delivery-app-LabCouse1\\\\front-end-code\\\\src\\\\KlientiRegister.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { faCheck, faTimes, faInfoCircle } from \"@fortawesome/free-solid-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst USERNAME_REGEX = /^[a-zA-Z][a-zA-Z0-9-_]{3,23}$/;\nconst PWD_REGES = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\n\nconst KlientiRegister = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [redirect, setRedirect] = useState(false);\n\n  const submit = async event => {\n    event.preventDefault();\n    let firstAndLastName = event.target.emri.value + '' + event.target.mbiemri.value;\n    await fetch(process.env.REACT_APP_API + 'authmanagement/register', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: firstAndLastName,\n        email,\n        password,\n        roli: 'Klient'\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(result);\n\n      if (!result.success) {\n        alert(result.errors[0]);\n      } else {\n        alert('jeni regjistruar me sukses');\n        setRedirect(true);\n      }\n    }, error => {\n      alert('Failed');\n    });\n  };\n\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center align-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"row g-3 d-flex w-50 mt-4 mb-3\",\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar bg-light\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          type: \"button\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/klientiregister\",\n            children: \"Klient\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 88\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          type: \"button\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/restorantiregister\",\n            children: \"Restorant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 88\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          type: \"button\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/transportuesiregister\",\n            children: \"Transportues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 88\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Regjistrohu Si Klient!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-12 align-self\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"inputEmail4\",\n          className: \"form-label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          id: \"inputEmail4\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"inputPassword4\",\n          className: \"form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          id: \"inputPassword4\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"emri\",\n          className: \"form-label\",\n          children: \"Emri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"emri\",\n          name: \"emri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mbiemri\",\n          className: \"form-label\",\n          children: \"Mbiemri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"mbiemri\",\n          name: \"mbiemri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Regjistrohu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(KlientiRegister, \"QAMNXYdRq267KFNY8grqYT1ddFU=\");\n\n_c = KlientiRegister;\nexport default KlientiRegister;\n\nvar _c;\n\n$RefreshReg$(_c, \"KlientiRegister\");","map":{"version":3,"names":["useState","useRef","useEffect","Link","Redirect","faCheck","faTimes","faInfoCircle","FontAwesomeIcon","USERNAME_REGEX","PWD_REGES","KlientiRegister","username","setUsername","email","setEmail","password","setPassword","redirect","setRedirect","submit","event","preventDefault","firstAndLastName","target","emri","value","mbiemri","fetch","process","env","REACT_APP_API","method","headers","body","JSON","stringify","roli","then","res","json","result","console","log","success","alert","errors","error","e"],"sources":["C:/Users/Arber/Documents/GitHub/Food-delivery-app-LabCouse1/Food-delivery-app-LabCouse1/front-end-code/src/KlientiRegister.js"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { faCheck, faTimes, faInfoCircle } from \"@fortawesome/free-solid-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\n\r\nconst USERNAME_REGEX = /^[a-zA-Z][a-zA-Z0-9-_]{3,23}$/\r\nconst PWD_REGES = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\r\n\r\nconst KlientiRegister = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [redirect, setRedirect] = useState(false); \r\n\r\n    const submit = async (event) => {\r\n        event.preventDefault();\r\n        let firstAndLastName =  event.target.emri.value+''+event.target.mbiemri.value;\r\n        \r\n        await fetch(process.env.REACT_APP_API+'authmanagement/register',{\r\n            method:'POST',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify({\r\n                username: firstAndLastName,\r\n                email,\r\n                password,\r\n                roli: 'Klient'\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n            if(!result.success){\r\n                alert(result.errors[0]);\r\n            }else{\r\n                alert('jeni regjistruar me sukses');\r\n                setRedirect(true);\r\n            }\r\n        },\r\n        (error)=>{\r\n            alert('Failed');\r\n        })\r\n        \r\n    }\r\n\r\n    if(redirect){\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-center align-content-center\">\r\n\r\n            <form className=\"row g-3 d-flex w-50 mt-4 mb-3\" onSubmit={submit}>\r\n                <nav className=\"navbar bg-light\">\r\n                    <button className=\"btn btn-sm btn-outline-secondary\" type=\"button\"><Link to=\"/klientiregister\" >Klient</Link></button>\r\n                    <button className=\"btn btn-sm btn-outline-secondary\" type=\"button\"><Link to=\"/restorantiregister\" >Restorant</Link></button>\r\n                    <button className=\"btn btn-sm btn-outline-secondary\" type=\"button\"><Link to=\"/transportuesiregister\" >Transportues</Link></button>\r\n                </nav>\r\n                <h1>Regjistrohu Si Klient!</h1>\r\n                <div className=\"col-sm-12 align-self\">\r\n                    <label htmlFor=\"inputEmail4\" className=\"form-label\">Email</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"inputEmail4\" onChange={e => setEmail(e.target.value)} />\r\n                </div>\r\n                <div className=\"col-sm-12\">\r\n                    <label htmlFor=\"inputPassword4\" className=\"form-label\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"inputPassword4\" onChange={e => setPassword(e.target.value)} />\r\n                </div>\r\n                <div className=\"col-sm-12\">\r\n                    <label htmlFor=\"emri\" className=\"form-label\">Emri</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"emri\" name=\"emri\" />\r\n                </div>\r\n                <div className=\"col-sm-12\">\r\n                    <label htmlFor=\"mbiemri\" className=\"form-label\">Mbiemri</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"mbiemri\" name=\"mbiemri\" />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Regjistrohu</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default KlientiRegister;"],"mappings":"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"},"metadata":{},"sourceType":"module"}