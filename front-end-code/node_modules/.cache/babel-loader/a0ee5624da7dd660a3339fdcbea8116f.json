{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:5000';\nexport default axios.create({\n  baseURL: BASE_URL\n});\nexport const axiosPrivate = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'Application/json'\n  },\n  withCredentials: true\n});\naxios.default;\naxios.interceptors.response.use(resp => resp, async error => {\n  if (error.response.status === 401) {\n    const response = await axios.post('/api/authmanagement/refreshtoken', {}, {\n      withCredentials: true\n    });\n\n    if (response.status === 200) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${response.data['token']}`;\n      return axios(error.config);\n    }\n  }\n\n  return error;\n});","map":{"version":3,"names":["axios","BASE_URL","create","baseURL","axiosPrivate","headers","withCredentials","default","interceptors","response","use","resp","error","status","post","defaults","common","data","config"],"sources":["C:/Users/Arber/Documents/GitHub/Food-delivery-app-LabCouse1/Food-delivery-app-LabCouse1/front-end-code/src/api/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'http://localhost:5000'\r\n\r\nexport default axios.create({\r\n    baseURL: BASE_URL\r\n});\r\n\r\nexport const axiosPrivate = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { 'Content-Type': 'Application/json'},\r\n    withCredentials: true\r\n});\r\n\r\naxios.default\r\n\r\naxios.interceptors.response.use(resp => resp, async error => {\r\n    if(error.response.status === 401){\r\n        const response = await axios.post('/api/authmanagement/refreshtoken', {}, {\r\n            withCredentials: true\r\n        })\r\n        \r\n        if(response.status === 200){\r\n            axios.defaults.headers.common['Authorization'] = `Bearer ${response.data['token']}`\r\n            \r\n            return axios(error.config);\r\n        }\r\n    }\r\n\r\n    return error;\r\n\r\n})"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,eAAeD,KAAK,CAACE,MAAN,CAAa;EACxBC,OAAO,EAAEF;AADe,CAAb,CAAf;AAIA,OAAO,MAAMG,YAAY,GAAGJ,KAAK,CAACE,MAAN,CAAa;EACrCC,OAAO,EAAEF,QAD4B;EAErCI,OAAO,EAAE;IAAE,gBAAgB;EAAlB,CAF4B;EAGrCC,eAAe,EAAE;AAHoB,CAAb,CAArB;AAMPN,KAAK,CAACO,OAAN;AAEAP,KAAK,CAACQ,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCC,IAAI,IAAIA,IAAxC,EAA8C,MAAMC,KAAN,IAAe;EACzD,IAAGA,KAAK,CAACH,QAAN,CAAeI,MAAf,KAA0B,GAA7B,EAAiC;IAC7B,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAW,kCAAX,EAA+C,EAA/C,EAAmD;MACtER,eAAe,EAAE;IADqD,CAAnD,CAAvB;;IAIA,IAAGG,QAAQ,CAACI,MAAT,KAAoB,GAAvB,EAA2B;MACvBb,KAAK,CAACe,QAAN,CAAeV,OAAf,CAAuBW,MAAvB,CAA8B,eAA9B,IAAkD,UAASP,QAAQ,CAACQ,IAAT,CAAc,OAAd,CAAuB,EAAlF;MAEA,OAAOjB,KAAK,CAACY,KAAK,CAACM,MAAP,CAAZ;IACH;EACJ;;EAED,OAAON,KAAP;AAEH,CAfD"},"metadata":{},"sourceType":"module"}